# WasteWise Flow Diagram ğŸ“Š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        APP LAUNCH                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SPLASH SCREEN                               â”‚
â”‚  ğŸŒ± WasteWise                                                    â”‚
â”‚  (Animated, checks AsyncStorage)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                   Check AsyncStorage
                              â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                     â†“                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ No Onboard   â”‚    â”‚ No Token     â”‚      â”‚ Has Token    â”‚
â”‚ Seen         â”‚    â”‚ (Logged out) â”‚      â”‚ (Logged in)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“                     â†“                     â†“
        â†“                     â†“              Check userRole
        â†“                     â†“                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â†“            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ONBOARDING   â”‚              â†“            â†“                 â†“
â”‚ (3 screens)  â”‚              â†“      role="customer"  role="cleaner"
â”‚ - Track      â”‚              â†“            â†“                 â†“
â”‚ - Routes     â”‚              â†“            â†“                 â†“
â”‚ - Rewards    â”‚              â†“      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â†“      â”‚Customer â”‚      â”‚Cleaner  â”‚
        â†“                     â†“      â”‚  Home   â”‚      â”‚  Home   â”‚
        â†“                     â†“      â”‚ (Green) â”‚      â”‚(Orange) â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        LOGIN SCREEN                              â”‚
â”‚  - Email/Password input                                          â”‚
â”‚  - Forgot password link                                          â”‚
â”‚  - Login button                                                  â”‚
â”‚  - Google sign-in button                                         â”‚
â”‚  - Create New Account button                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LOGIN        â”‚        â”‚ SIGNUP       â”‚
â”‚ SUCCESSFUL   â”‚        â”‚ CLICKED      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“                       â†“
        â†“               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“               â”‚    SIGNUP SCREEN                 â”‚
        â†“               â”‚  - First Name (required)         â”‚
        â†“               â”‚  - Last Name                     â”‚
        â†“               â”‚  - Email (required)              â”‚
        â†“               â”‚  - Phone Number                  â”‚
        â†“               â”‚  - Address                       â”‚
        â†“               â”‚  - Password (required)           â”‚
        â†“               â”‚  - Confirm Password (required)   â”‚
        â†“               â”‚  - [âœ“] Fill later option         â”‚
        â†“               â”‚  - Create Account button         â”‚
        â†“               â”‚  - Google sign-up button         â”‚
        â†“               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“                       â†“
        â†“                       â†“
        â†“               Create Firebase Auth User
        â†“                       â†“
        â†“               Create Firestore Document
        â†“               (role: "customer" by default)
        â†“                       â†“
        â†“               Store in AsyncStorage:
        â†“               - userToken
        â†“               - userId
        â†“               - userEmail
        â†“               - userFirstName
        â†“               - userRole = "customer"
        â†“                       â†“
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
        Check role from Firestore/AsyncStorage
                    â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CUSTOMER HOME       â”‚ â”‚  CLEANER HOME        â”‚
â”‚  (Green Theme)       â”‚ â”‚  (Orange Theme)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŒ± WasteWise    [ğŸ‘¤]â”‚ â”‚ ğŸŒ± WasteWise    [ğŸš›]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Hello, John! ğŸ‘‹      â”‚ â”‚ Today's Route ğŸš›     â”‚
â”‚                      â”‚ â”‚                      â”‚
â”‚ ğŸ“… Next Pickup       â”‚ â”‚ ğŸ“ Route Progress    â”‚
â”‚ Wednesday, 7:30 AM   â”‚ â”‚ Total: 42 stops      â”‚
â”‚ 123 Main Street      â”‚ â”‚ âœ… Completed: 18     â”‚
â”‚ [View Details]       â”‚ â”‚ â³ Remaining: 24     â”‚
â”‚                      â”‚ â”‚ [43% â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘]        â”‚
â”‚ Quick Actions:       â”‚ â”‚ [View Full Route]    â”‚
â”‚ [ğŸ“Track]  [ğŸ“†Sched] â”‚ â”‚                      â”‚
â”‚ [ğŸ—‘ï¸Report] [ğŸ’°Pay]   â”‚ â”‚ Quick Actions:       â”‚
â”‚                      â”‚ â”‚ [ğŸ“Nav] [ğŸ“¸Scan]     â”‚
â”‚ Recent Pickups:      â”‚ â”‚ [âš ï¸Rpt] [ğŸ“‹List]     â”‚
â”‚ âœ… Mon, Oct 13       â”‚ â”‚                      â”‚
â”‚ âœ… Fri, Oct 10       â”‚ â”‚ Next Stops:          â”‚
â”‚ âœ… Wed, Oct 8        â”‚ â”‚ 19. 123 Main St â†’    â”‚
â”‚                      â”‚ â”‚ 20. 456 Park Ave â†’   â”‚
â”‚ [ğŸšª Logout]          â”‚ â”‚ 21. 789 Green Rd â†’   â”‚
â”‚                      â”‚ â”‚                      â”‚
â”‚                      â”‚ â”‚ â° Today's Shift     â”‚
â”‚                      â”‚ â”‚ 6:30 AM - 2:30 PM    â”‚
â”‚                      â”‚ â”‚                      â”‚
â”‚                      â”‚ â”‚ [ğŸšª Logout]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“                       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
â”‚         BOTTOM TAB BAR                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Customer Tabs  â”‚ Cleaner Tabs          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ  Home        â”‚ ğŸ  Home               â”‚
â”‚ ğŸ—ºï¸ Map         â”‚ ğŸ—ºï¸ Map                â”‚
â”‚ ğŸ“ Locations   â”‚ ğŸ“‹ Stops              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      LOGOUT FLOW                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User clicks [ğŸšª Logout]
        â†“
Alert: "Are you sure?"
        â†“
    [Cancel] [Logout]
        â†“
Clear AsyncStorage:
  âŒ userToken
  âŒ userId
  âŒ userEmail
  âŒ userFirstName
  âŒ userRole
  âŒ hasSeenOnboarding (optional)
        â†“
Navigate to /login
        â†“
User must login again


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PROFILE SCREEN ACCESS                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Tap avatar in header [ğŸ‘¤] or [ğŸš›]
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        PROFILE SCREEN            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         [â† Back]                 â”‚
â”‚                                  â”‚
â”‚          â”Œâ”€â”€â”€â”                   â”‚
â”‚          â”‚ J â”‚  Avatar           â”‚
â”‚          â””â”€â”€â”€â”˜                   â”‚
â”‚          John                    â”‚
â”‚       [ğŸ‘¤ Customer]              â”‚
â”‚                                  â”‚
â”‚ Account Information:             â”‚
â”‚ Email: john@example.com          â”‚
â”‚ User ID: Xn2kP9...               â”‚
â”‚ Type: Customer                   â”‚
â”‚                                  â”‚
â”‚ Settings:                        â”‚
â”‚ âœï¸ Edit Profile       â†’          â”‚
â”‚ ğŸ”” Notifications      â†’          â”‚
â”‚ ğŸ”’ Privacy & Security â†’          â”‚
â”‚ â“ Help & Support     â†’          â”‚
â”‚                                  â”‚
â”‚ [ğŸšª Logout]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ROLE CHANGE SCENARIO                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. User signs up as Customer
        â†“
2. Firebase Admin changes role to "cleaner"
        â†“
3. User logs out from app
        â†“
4. User logs in again
        â†“
5. App detects role="cleaner"
        â†“
6. Navigate to Cleaner Home (orange theme)


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  DATA FLOW DIAGRAM                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Firebase Auth              Firestore DB           AsyncStorage
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Email   â”‚              â”‚  users   â”‚           â”‚  Local   â”‚
â”‚   Auth   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚collectionâ”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  Device  â”‚
â”‚          â”‚              â”‚          â”‚           â”‚          â”‚
â”‚ - User   â”‚              â”‚ - uid    â”‚           â”‚ - Token  â”‚
â”‚ - Token  â”‚              â”‚ - email  â”‚           â”‚ - Email  â”‚
â”‚ - Google â”‚              â”‚ - name   â”‚           â”‚ - Name   â”‚
â”‚          â”‚              â”‚ - role   â”‚           â”‚ - Role   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†‘                         â†‘                       â†‘
     â”‚                         â”‚                       â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              Synced on login/signup


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              NAVIGATION STRUCTURE                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

app/
â”œâ”€â”€ splash.jsx                    (Initial route)
â”œâ”€â”€ onboarding.jsx               (First time users)
â”œâ”€â”€ login.jsx                    (Auth gate)
â”œâ”€â”€ signup.jsx                   (New users)
â”œâ”€â”€ profile.jsx                  (User settings)
â”‚
â””â”€â”€ (tabs)/
    â”œâ”€â”€ customer/
    â”‚   â”œâ”€â”€ _layout.jsx          (Customer tab wrapper)
    â”‚   â”œâ”€â”€ home.jsx             (Customer main)
    â”‚   â”œâ”€â”€ map.jsx              (Track truck)
    â”‚   â””â”€â”€ locations.jsx        (Addresses)
    â”‚
    â””â”€â”€ cleaner/
        â”œâ”€â”€ _layout.jsx          (Cleaner tab wrapper)
        â”œâ”€â”€ home.jsx             (Cleaner main)
        â”œâ”€â”€ map.jsx              (Route nav)
        â””â”€â”€ stops.jsx            (Pickup list)


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    COLOR CODING                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Customer Theme:           Cleaner Theme:
â–ˆâ–ˆ #16A34A Green         â–ˆâ–ˆ #F59E0B Orange
â–ˆâ–ˆ #DCFCE7 Light Green   â–ˆâ–ˆ #FEF3C7 Light Orange
ğŸ‘¤ Customer Icon         ğŸš› Cleaner Icon

Shared:
â–ˆâ–ˆ #F8FAFC Background
â–ˆâ–ˆ #0B1220 Text
â–ˆâ–ˆ #E2E8F0 Borders
```

---

## Key Decision Points ğŸ¯

### 1. **Route Detection (Splash Screen)**
```
Has onboarding? â†’ No â†’ Onboarding
               â†’ Yes â†’ Has token? â†’ No â†’ Login
                                  â†’ Yes â†’ Check role:
                                          - customer â†’ Customer Home
                                          - cleaner â†’ Cleaner Home
```

### 2. **Login Success**
```
User logs in â†’ Get profile from Firestore
            â†’ Extract role field
            â†’ Store in AsyncStorage
            â†’ Navigate to role-specific home
```

### 3. **Logout**
```
User clicks logout â†’ Show confirmation
                  â†’ Clear AsyncStorage (all keys)
                  â†’ Navigate to login
                  â†’ (Next launch: shows onboarding if flag cleared)
```

---

## Role Assignment Strategy ğŸ“

### **Current Implementation:**
- All signups create `role: "customer"` by default
- Admin manually changes role in Firebase Console

### **Future Options:**
1. **During Signup:** Add role selection screen
2. **Separate Apps:** Different apps for customer/cleaner
3. **Admin Portal:** Dashboard to manage user roles
4. **Verification:** Cleaner role requires ID verification

---

## Security Considerations ğŸ”’

1. âœ… Tokens stored securely in AsyncStorage
2. âœ… Logout clears all sensitive data
3. âœ… Role verification from Firestore (server-side)
4. âš ï¸ Consider: Custom claims for role (more secure)
5. âš ï¸ Consider: Role-based API access rules

---

This diagram shows the complete user journey from app launch to logout! ğŸš€
